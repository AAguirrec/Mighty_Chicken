const productpollos =[
{
    product:1,
    nombre: "Pernil mixto Refrigerado", 
    Precio:5300 ,
    categoria: "Pollo Fresco", 
    imagen:"/img/1.png" 
},

{
    product:2, 
    nombre: "Pollo Refrigerado", 
    Precio:7000, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/2.png" 
},
{
    product:3, 
    nombre: "Pernil Blanco", 
    Precio:6000, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/3.png" 
},
{
    product:4, 
    nombre: "Ala Refrigerada", 
    Precio:7350, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/4.png" 
},
{
    product:5, 
    nombre: "Ala Campesina", 
    Precio:7900, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/5.png" 
},
{
    product:6, 
    nombre: "Ala Mixta Campesina", 
    Precio:8900, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/6.png" 
},
{
    product:7, 
    nombre: "Ala Mixta Blanca", 
    Precio:8200, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/7.png" 
},
{
    product:8, 
    nombre: "Colombina de Ala", 
    Precio:9900, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/8.png" 
},
{
    product:9, 
    nombre: "Churrasco sin Piel", 
    Precio:11200, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/9.png" 
},
{
    product:10, 
    nombre: "Lomitos de Pechuga", 
    Precio:10500, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/10.png" 
},
{
    product:11, 
    nombre: "Alas", 
    Precio:7500, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/11.png" 
},
{
    product:12, 
    nombre: "Filete de Pollo Marinado", 
    Precio:15000, 
    categoria: "Bandejas" , 
    imagen:"/img/12.png" 
},
{
    product:13, 
    nombre: "Pechuga Campesina", 
    Precio:10000, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/13.png" 
},
{
    product:14, 
    nombre: "Pernil Campesino", 
    Precio:6800, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/14.png" 
},
{
    product:15, 
    nombre: "Pierna Pernil", 
    Precio:6750, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/15.png" 
},
{
    product:16, 
    nombre: "Cuadritos de Pechuga", 
    Precio:9700, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/16.png" 
},
{
    product:17, 
    nombre: "Cuartos de Piernas Adobadas", 
    Precio: 14000, 
    categoria: "Bandejas" , 
    imagen:"/img/17.png" 
},
{
    product:18, 
    nombre: "Filete de Pechuga sin Hueso", 
    Precio:10500, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/18.png" 
},
{
    product:19, 
    nombre: "Filete de Pechuga Porcionada", 
    Precio:11000, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/19.png" 
},
{
    product:20, 
    nombre: "Pernil Con Rabadilla sin Piel", 
    Precio:8200, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/20.png" 
},
{
    product:21, 
    nombre: "Piernas sin Piel", 
    Precio:6500, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/21.png" 
},
{
    product:22, 
    nombre: "Varitas de Pollo de Pechuga", 
    Precio:30000, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/22.png" 
},
{
    poduct:23, 
    nombre: "Pernil sin Rabadilla Campesino", 
    Precio:8150, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/23.png" 
},
{
    product:24, 
    nombre: "Pierna Campesina", 
    Precio:8500, 
    categoria: "Pollo Campesino" , 
    imagen:"/img/24.png" 
},
{
    product:25, 
    nombre: "Pernil Mixto sin Piel", 
    Precio:6900, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/25.png" 
},
{
    product:26, 
    nombre: "Pechuga sin Piel", 
    Precio:10400, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/26.png" 
},
{
    product:27, 
    nombre: "Menudencia", 
    Precio:4500, 
    categoria: "Pollo Fresco" , 
    imagen:"/img/27.png" 
},
{
    product:28, 
    nombre: "Medio pollo Relleno Tajado", 
    Precio:37500, 
    categoria: "Especialproductades de Pollo" , 
    imagen:"/img/28.png" 
},
{
    product:29, 
    nombre: "Pastel de Pollo Hawaiano", 
    Precio:35000, 
    categoria: "Especialproductades de Pollo" , 
    imagen:"/img/29.png" 
},
{
    product:30, 
    nombre: "Jamon de Pollo", 
    Precio:24500, 
    categoria: "Especialproductades de Pollo" , 
    imagen:"/img/31.png" 
},
{
    product:31, 
    nombre: "Pechuga Rellena de Ciruelas", 
    Precio:29000, 
    categoria: "Especialproductades de Pollo" , 
    imagen:"/img/30.png" 
},
{
    product:32, 
    nombre: "Molipollo", 
    Precio:7000, 
    categoria: "Salsamentaria" , 
    imagen:"/img/32.png" 
},
{
    product:33, 
    nombre: "Salchicha Ahumada", 
    Precio:19400, 
    categoria: "Salsamentaria" , 
    imagen:"/img/33.png" 
},
{
    product:34, 
    nombre: "Higados de Pollo", 
    Precio:4800, 
    categoria: "Bandejas" , 
    imagen:"/img/34.png" 
},
{
    product:35, 
    nombre: "Molejas de Pollo", 
    Precio:4500, 
    categoria: "Bandejas" , 
    imagen:"/img/35.png" 
},
{
    product:36, 
    nombre: "Pollo en Rodajas", 
    Precio:7500, 
    categoria: "Bandejas" , 
    imagen:"/img/36.png" 
},
{
    product:37, 
    nombre: "Pollo en Bandeja", 
    Precio:9000, 
    categoria: "Bandejas" , 
    imagen:"/img/37.png" 
},
{
    product:38, 
    nombre: "Bandeja de Muslos sin Piel y Deshuesados", 
    Precio:10000, 
    categoria: "Bandejas" , 
    imagen:"/img/38.png" 
},
{
    product:39, 
    nombre: "Alitas de Pollo Adobadas", 
    Precio:14000, 
    categoria: "Bandejas" , 
    imagen:"/img/39.png" 
},
{
    product:40, 
    nombre: "Alitas a la BBQ", 
    Precio:16000, 
    categoria: "Bandejas" , 
    imagen:"/img/40.png" 
},
]

localStorage.setItem('productpollos', JSON.stringify(productpollos));

let productosCargados = 0;
const productosPorPagina = 15;
const productosLista = document.getElementById('productosLista');
const verDetalle = document.getElementById('verDetalle');

function cargarProductos() {
    const productosAMostrar = productpollos.slice(productosCargados, productosCargados + productosPorPagina);
    productosAMostrar.forEach(producto => {
        const tarjeta = document.createElement('div');
        tarjeta.classList.add('tarjetaProducto');
        tarjeta.innerHTML = `
            <img src="${producto.imagen}" alt="${producto.nombre}">
            <h3>${producto.nombre}</h3>
            <p>Categoría: ${producto.categoria}</p>
            <p>Precio: $${producto.Precio}</p>
            <button onclick="verDetalleProducto(${producto.product})">Ver Detalle</button>
        `;
        productosLista.appendChild(tarjeta);
    });
    productosCargados += productosPorPagina;

    if (productosCargados >= productpollos.length) {
        const mensajeFin = document.createElement('p');
        productosLista.appendChild(mensajeFin);
        window.removeEventListener('scroll', detectarScroll);
    }
}

function verDetalleProducto(idProducto) {
    const producto = productpollos.find(p => p.product === idProducto);
    document.getElementById('detalleImagen').src = producto.imagen;
    document.getElementById('detalleNombre').innerText = producto.nombre;
    document.getElementById('detalleCategoria').innerText = `Categoría: ${producto.categoria}`;
    document.getElementById('detallePrecio').innerText = `Precio: $${producto.Precio}`;
    verDetalle.style.display = 'block';
}

function detectarScroll() {
    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
        cargarProductos();
    }
}
document.getElementById('cancelarCompra').addEventListener('click', () => {
    window.location.href ="/html/compra.html"; 
});

document.getElementById('completarCompra').addEventListener('click', () => {
    window.location.href = 'carrito.html'; 
});

document.getElementById('agregarCarrito').addEventListener('click', () => {
    const cantidad = parseInt(document.getElementById('cantidadProducto').value);
    if (isNaN(cantidad) || cantidad <= 0) {
        alert("Ingrese una cantidad válida.");
        return;
    }

    // Obtener el ID del producto y buscar sus datos
    const idProducto = parseInt(document.getElementById('detalleIdProducto').value);
    const producto = productpollos.find(p => p.product === idProducto);

    // Añadir el producto al carrito
    const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    carrito.push({ ...producto, cantidad });
    localStorage.setItem('carrito', JSON.stringify(carrito));

    alert("Producto agregado al carrito.");
});


cargarProductos();
window.addEventListener('scroll', detectarScroll);